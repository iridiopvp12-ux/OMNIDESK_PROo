
> backend@1.0.0 dev
> ts-node src/server.ts

[dotenv@17.2.3] injecting env (3) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
[dotenv@17.2.3] injecting env (0) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
üõ°Ô∏è API ONLINE: http://localhost:3001
üìÅ Pasta de Uploads: /app/backend/uploads
{"level":30,"time":"2026-01-05T17:46:54.045Z","pid":40070,"hostname":"devbox","class":"baileys","browser":["OmniDesk Pro","Chrome","2.0.0"],"helloMsg":{"clientHello":{"ephemeral":"mVYauqTGQHY5/FcENZmi1HF4rONfVXRg7/BD74+6JVQ="}},"msg":"connected to WA"}
{"level":30,"time":"2026-01-05T17:46:54.193Z","pid":40070,"hostname":"devbox","class":"baileys","node":{"username":"5527999843440","passive":true,"userAgent":{"platform":"WEB","appVersion":{"primary":2,"secondary":3000,"tertiary":1027934701},"mcc":"000","mnc":"000","osVersion":"0.1","device":"Desktop","osBuildNumber":"0.1","releaseChannel":"RELEASE","localeLanguageIso6391":"en","localeCountryIso31661Alpha2":"US"},"webInfo":{"webSubPlatform":"WEB_BROWSER"},"connectType":"WIFI_UNKNOWN","connectReason":"USER_ACTIVATED","device":4,"pull":true,"lidDbMigrated":false},"msg":"logging in..."}
{"level":30,"time":"2026-01-05T17:46:58.790Z","pid":40070,"hostname":"devbox","class":"baileys","trace":"Error: Connection Failure\n    at WebSocketClient.<anonymous> (file:///app/backend/node_modules/@whiskeysockets/baileys/src/Socket/socket.ts:964:7)\n    at WebSocketClient.emit (node:events:519:28)\n    at WebSocketClient.emit (node:domain:489:12)\n    at file:///app/backend/node_modules/@whiskeysockets/baileys/src/Socket/socket.ts:599:23\n    at Object.decodeFrame (file:///app/backend/node_modules/@whiskeysockets/baileys/src/Utils/noise-handler.ts:187:5)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async WebSocketClient.onMessageReceived (file:///app/backend/node_modules/@whiskeysockets/baileys/src/Socket/socket.ts:570:3)","msg":"connection errored"}
‚ùå Conex√£o caiu. Reconectando... false
PrismaClientInitializationError:
Invalid `prisma.user.findUnique()` invocation in
/app/backend/src/controllers/AuthController.ts:11:44

   8 // MVP: Se for o login mestre hardcoded (fallback)
   9 if (email === 'admin' && password === 'admin') {
  10      // Tenta achar ou cria um admin padr√£o no banco para garantir ID v√°lido
‚Üí 11      let admin = await prisma.user.findUnique(
Can't reach database server at `localhost:5432`

Please make sure your database server is running at `localhost:5432`.
    at Ln.handleRequestError (/app/backend/node_modules/@prisma/client/runtime/library.js:121:8053)
    at Ln.handleAndLogRequestError (/app/backend/node_modules/@prisma/client/runtime/library.js:121:7061)
    at Ln.request (/app/backend/node_modules/@prisma/client/runtime/library.js:121:6745)
    at async l (/app/backend/node_modules/@prisma/client/runtime/library.js:130:9633)
    at async login (/app/backend/src/controllers/AuthController.ts:11:26)
